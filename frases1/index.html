<!DOCTYPE html>
<html lang="ca">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MODEL FRASES Â· Ã udio local</title>
<style>
body{margin:0;font-family:system-ui;background:#f1f5f9;color:#0f172a}
header{padding:12px;background:#fff;border-bottom:1px solid #e5e7eb;display:flex;justify-content:center}
.mode-btns button{margin:0 6px;padding:8px 14px;border:none;border-radius:14px;font-weight:700;cursor:pointer}
.mode-en{background:#dbeafe}
.mode-ca{background:#fde68a}
main{display:flex;justify-content:center;padding:24px}
.card{position:relative;width:100%;max-width:560px;background:#ffffff;border-radius:28px;padding:32px;box-shadow:0 10px 24px rgba(0,0,0,0.06);text-align:center}
.counter{position:absolute;top:18px;right:22px;font-weight:800;color:#2563eb}
.lang{font-size:14px;font-weight:800;letter-spacing:1px;color:#64748b;margin-bottom:6px}
.audio-btn{width:120px;height:120px;border-radius:50%;border:none;background:#dbeafe;font-size:36px;cursor:pointer;margin:6px auto 10px}
.hidden{display:none}
.key{font-size:16px;font-weight:900;color:#9333ea;margin:10px 0}
.ca{font-size:20px;color:#2563eb;margin-top:14px}
.en{font-size:20px;color:#0f172a;margin-top:14px;font-weight:700}
.buttons{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px;margin-top:22px}
button.action{padding:16px 0;border:none;border-radius:16px;font-weight:800;cursor:pointer}
.reveal{background:#e0f2fe}
.know{background:#dcfce7}
.next{background:#fbcfe8}
.list-btn{margin-top:16px;background:#e9d5ff;border:none;border-radius:16px;padding:14px;font-weight:800;cursor:pointer}
.list-box{max-width:560px;margin:16px auto;background:#fff;border-radius:20px;border:1px solid #e5e7eb;padding:16px;text-align:left}
.list-item{padding:10px 0;border-bottom:1px solid #e5e7eb}
.list-ca{color:#2563eb;font-weight:700}
.list-en{color:#0f172a;font-weight:800}
.end{margin-top:16px;font-weight:800;color:#16a34a}
</style>
</head>
<body>

<header>
 <div class="mode-btns">
  <button class="mode-en" onclick="setMode('EN')">Mode anglÃ¨s â†’ catalÃ </button>
  <button class="mode-ca" onclick="setMode('CA')">Mode catalÃ  â†’ anglÃ¨s</button>
 </div>
</header>

<main>
<div class="card">
 <div class="counter" id="counter">0 / 10</div>
 <div id="langLabel" class="lang">ANGLÃˆS</div>
 <button class="audio-btn" onclick="play()">ðŸ”Š</button>

 <div id="key" class="key hidden"></div>
 <div id="ca" class="ca hidden"></div>
 <div id="en" class="en hidden"></div>

 <div class="buttons">
  <button class="action reveal" onclick="reveal()">Veure</button>
  <button class="action know" onclick="know()">Ja la sÃ©</button>
  <button class="action next" onclick="nextOne()">SegÃ¼ent</button>
 </div>

 <button class="list-btn" onclick="toggleList()">Veure tota la llista</button>
 <div id="endMsg" class="end hidden">âœ” Ja les saps totes</div>
</div>
</main>

<div id="listBox" class="list-box hidden"></div>

<script>
const items = [
{"key":"tricky","audio":"f001.mp3","ca":"Crec que trobar un apartament barat al centre de la ciutat Ã©s forÃ§a complicat perquÃ¨ hi ha molta gent buscant el mateix ara mateix.","en":"I think that finding a cheap apartment in the center of the city is quite tricky because there are many people looking for the same thing right now."},
{"key":"broad","audio":"f002.mp3","ca":"La vista des del cim de la muntanya era molt Ã mplia i podÃ­em veure tots els pobles petits i el bosc verd a prop del riu.","en":"The view from the top of the mountain was very broad and we could see all the small villages and the green forest near the river."},
{"key":"willing","audio":"f003.mp3","ca":"El meu germÃ  sempre estÃ  disposat a portar-me a lâ€™aeroport dâ€™hora al matÃ­ encara que hagi de treballar mÃ©s tard aquell dia.","en":"My brother is always willing to drive me to the airport early in the morning even if he has to work later that day."},
{"key":"call off","audio":"f004.mp3","ca":"El gerent va decidir cancelÂ·lar lâ€™esdeveniment a lâ€™aire lliure perquÃ¨ la previsiÃ³ del temps deia que faria molt fred i vent tota la nit.","en":"The manager decided to call off the outdoor event because the weather forecast said it would be very cold and windy all night."},
{"key":"harmless","audio":"f005.mp3","ca":"No cal que tinguis por dâ€™aquell insecte perquÃ¨ Ã©s completament inofensiu i nomÃ©s vol volar a prop de la llum del llum.","en":"You don't need to be afraid of that insect because it is completely harmless and it just wants to fly near the light of the lamp."},
{"key":"as long as","audio":"f006.mp3","ca":"Et deixarÃ© el meu llibre preferit sempre que prometis cuidar-lo i tornar-meâ€™l la setmana vinent.","en":"I will lend you my favorite book as long as you promise to take care of it and give it back to me next week."},
{"key":"worth","audio":"f007.mp3","ca":"SÃ© que lâ€™entrada al museu Ã©s cara, perÃ² realment val la pena visitar-lo perquÃ¨ les pintures de dins sÃ³n les mÃ©s famoses del mÃ³n.","en":"I know the museum ticket is expensive, but it is really worth visiting because the paintings inside are the most famous in the world."},
{"key":"awkward","audio":"f008.mp3","ca":"Va ser molt incÃ²mode quan em vaig trobar el meu antic cap al supermercat i no sabia quÃ¨ dir-li desprÃ©s de tants anys.","en":"It was very awkward when I met my old boss at the supermarket and I didn't know what to say to him after so many years."},
{"key":"provided that","audio":"f009.mp3","ca":"Comprarem el cotxe nou el mes que ve sempre que el banc ens doni els diners que necessitem per al primer pagament.","en":"We are going to buy the new car next month provided that the bank gives us the money we need for the first payment."},
{"key":"tough","audio":"f010.mp3","ca":"Lâ€™examen va ser molt difÃ­cil i llarg, perÃ² em sento contenta perquÃ¨ vaig estudiar molt i crec que vaig respondre totes les preguntes correctament.","en":"The exam was very tough and long, but I feel happy because I studied a lot and I think I answered all the questions correctly."}
];

const total = items.length;
let remaining=[...items], current=null, mode="EN", known=0;
let audio = new Audio();

function updateCounter(){ counter.textContent = known + " / " + total; }

function load(){
 if(!remaining.length){
  endMsg.classList.remove("hidden");
  return;
 }
 current = remaining[Math.floor(Math.random()*remaining.length)];
 key.classList.add("hidden");
 ca.classList.add("hidden");
 en.classList.add("hidden");

 if(mode==="EN"){
  langLabel.textContent="ANGLÃˆS";
  play();
 } else {
  langLabel.textContent="CATALÃ€";
  ca.textContent=current.ca;
  ca.classList.remove("hidden");
 }
}

function play(){ if(current){ audio.src=current.audio; audio.play(); } }

function reveal(){
 if(!current) return;
 key.textContent="Paraula clau: "+current.key;
 key.classList.remove("hidden");
 ca.textContent=current.ca;
 en.textContent=current.en;
 ca.classList.remove("hidden");
 en.classList.remove("hidden");
 if(mode==="CA") play();
}

function know(){
 remaining = remaining.filter(i=>i!==current);
 known++; updateCounter(); load();
}

function nextOne(){ load(); }
function setMode(m){ mode=m; load(); }

function toggleList(){
 listBox.innerHTML="";
 items.forEach(i=>{
  const d=document.createElement("div");
  d.className="list-item";
  d.innerHTML="<div class='list-ca'>"+i.ca+"</div><div class='list-en'>"+i.en+"</div>";
  listBox.appendChild(d);
 });
 listBox.classList.toggle("hidden");
}

updateCounter();
load();
</script>

</body>
</html>
