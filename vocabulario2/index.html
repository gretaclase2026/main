<!DOCTYPE html>
<html lang="ca">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Model estudi definitiu amb blocs</title>
<style>
body{margin:0;font-family:Arial,sans-serif;background:#ececec}
.card{max-width:720px;margin:20px auto;background:#ffffff;border-radius:24px;padding:24px;box-shadow:0 8px 18px rgba(0,0,0,.15)}
.modes{display:flex;gap:10px;margin-bottom:10px}
.mode{flex:1;text-align:center;padding:14px;border-radius:24px;font-weight:bold;cursor:pointer}
.mode.en{background:#d6e6f5}
.mode.es{background:#f4d6e6}
.mode.active{outline:3px solid #999}
.blocks{display:flex;flex-wrap:wrap;gap:6px;margin:12px 0}
.block{
  width:38px;
  height:38px;
  padding:0;
  border-radius:50%;
  border:none;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  background:#fff4cc;
}
.pblock{background:#fff4cc;}
.block.active{
  background:#ffe39a;
}
.counter{text-align:right;font-weight:bold;color:#2563eb;font-size:22px}
.audio-btn{width:140px;height:140px;margin:16px auto;border-radius:50%;background:#dcfce7;font-size:60px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:0.2s}
.audio-btn.vibrate{animation:vibrate 0.25s linear 2}
@keyframes vibrate{0%{transform:translate(0)}25%{transform:translate(2px,-2px)}50%{transform:translate(-2px,2px)}75%{transform:translate(2px,2px)}100%{transform:translate(0)}}
.word{text-align:center;font-size:32px;margin-bottom:10px}
.answer{text-align:center;font-size:26px;color:#2563eb;display:none;margin-top:-10px;margin-bottom:20px;font-weight:bold}
.controls{display:flex;gap:10px;margin-top:14px}
.controls button{flex:1;padding:14px;border-radius:20px;border:none;font-size:16px;font-weight:bold;cursor:pointer}
.list-btn{margin-top:16px;width:100%;padding:14px;border-radius:20px;border:none;background:#e0d8f5;font-weight:bold}
.list{display:none;margin-top:14px}
.list-item{border-bottom:1px solid #ddd;padding:6px 0}

.veure{background:#cfe3ff}
.jase{background:#d7f2e3}
.seguent{background:#f4d6e6}
.block{
  width:38px;
  height:38px;
  padding:0;
  border-radius:50%;
  border:none;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  background:#fff4cc;
}
.pblock{background:#fff4cc;}
.block.active{
  background:#ffe39a;
}
</style>

</head>
<body>

<div class="card">
  <div class="modes">
    <div id="modeEN" class="mode en active" onclick="setMode('EN')">anglÃ¨s â†’ castellÃ </div>
    <div id="modeES" class="mode es" onclick="setMode('ES')">castellÃ  â†’ anglÃ¨s</div>
  </div>

  <div class="blocks" id="blocks"><button class="block pblock active" onclick="selectAll()">T</button></div>

  <div class="counter"><span id="pos">1</span> / <span id="total">0</span></div>

  <div class="audio-btn" onclick="playAudio()">ðŸ”Š</div>
  <audio id="audio"></audio>

  <div id="word" class="word"></div>
  <div id="answer" class="answer"></div>

  <div class="controls">
    <button class="veure" onclick="reveal()">Veure</button>
    <button class="jase" onclick="know()">Ja la sÃ©</button>
    <button class="seguent" onclick="next()">SegÃ¼ent</button>
  </div>

  <button class="list-btn" onclick="toggleList()">Veure tota la llista</button>
  <div id="list" class="list"></div>
</div>

<script>
// ---- DATA (replace with real content) ----
const data = [
{"audio":"f001.mp3","en": "Out of date", "es": "Anticuado / Caducado", "ex": "That fashion style is a bit out of date now."}, {"audio":"f002.mp3","en": "Frightened", "es": "Asustado", "ex": "The loud noise made the child feel frightened."}, {"audio":"f003.mp3","en": "Amazed", "es": "Alucinado / Muy sorprendido", "ex": "I was amazed by the beautiful view from the top."}, {"audio":"f004.mp3","en": "Amusing", "es": "Gracioso / Divertido", "ex": "He told us an amusing story about his cat."}, {"audio":"f005.mp3","en": "Awkward", "es": "Incomodo / Patoso", "ex": "There was an awkward silence after his comment."}, {"audio":"f006.mp3","en": "Broad", "es": "Ancho / Amplio", "ex": "He has very broad shoulders."}, {"audio":"f007.mp3","en": "Clumsy", "es": "Torpe", "ex": "I'm so clumsy; I just spilled my coffee again."}, {"audio":"f008.mp3","en": "Delighted", "es": "Encantado / Muy feliz", "ex": "She was delighted with her birthday presents."}, {"audio":"f009.mp3","en": "Handy", "es": "Pratico / Util / A mano", "ex": "This tool is very handy for small repairs."}, {"audio":"f010.mp3","en": "Harmless", "es": "Inofensivo", "ex": "Don't worry, that spider is completely harmless."}, {"audio":"f011.mp3","en": "Odd", "es": "ExtraÃ±o / Raro", "ex": "Itâ€™s odd that he hasnâ€™t called me yet."}, {"audio":"f012.mp3","en": "Rough", "es": "Aproximado / Rugoso / Agitado", "ex": "The sea was very rough during the storm."}, {"audio":"f013.mp3","en": "Slightly", "es": "Ligeramente", "ex": "Iâ€™m feeling slightly better than yesterday."}, {"audio":"f014.mp3","en": "Substantial", "es": "Sustancial / Considerable", "ex": "They made a substantial profit this year."}, {"audio":"f015.mp3","en": "Tough", "es": "Dificil / Duro / Resistente", "ex": "It was a tough decision to make."}, {"audio":"f016.mp3","en": "Tricky", "es": "Complicado / MaÃ±oso", "ex": "This puzzle is quite tricky to solve."}, {"audio":"f017.mp3","en": "Vague", "es": "Impreciso / Vago", "ex": "His instructions were too vague to follow."}, {"audio":"f018.mp3","en": "Worldwide", "es": "Mundial / En todo el mundo", "ex": "The company has a worldwide reputation."}, {"audio":"f019.mp3","en": "Furthermore", "es": "Ademas / Es mas", "ex": "The house is beautiful; furthermore, it's very cheap."}, {"audio":"f020.mp3","en": "Moreover", "es": "Ademas / Es mas", "ex": "The house is beautiful; moreover, it's very cheap."}, {"audio":"f021.mp3","en": "Therefore", "es": "Por lo tanto", "ex": "I forgot my wallet; therefore, I couldn't buy it."}, {"audio":"f022.mp3","en": "Whereas", "es": "Mientras que (contraste)", "ex": "She loves spicy food, whereas I hate it."}, {"audio":"f023.mp3","en": "Otherwise", "es": "De lo contrario", "ex": "Put on a coat; otherwise, you'll catch a cold."}, {"audio":"f024.mp3","en": "Provided that", "es": "Siempre que / Con la condicion de que", "ex": "You can go provided that you finish your homework."}, {"audio":"f025.mp3","en": "As long as", "es": "Siempre y cuando / Mientras", "ex": "I'll help you as long as you try your best."}, {"audio":"f026.mp3","en": "Eventually", "es": "Finalmente / Con el tiempo", "ex": "It took a while, but we eventually arrived."}, {"audio":"f027.mp3","en": "Relatively", "es": "Relativamente / Bastante", "ex": "The exam was relatively easy for me."}, {"audio":"f028.mp3","en": "Increasingly", "es": "Cada vez mas", "ex": "It is becoming increasingly difficult to find a job."}, {"audio":"f029.mp3","en": "Roughly", "es": "Aproximadamente / A ojo", "ex": "There were roughly fifty people at the party."}, {"audio":"f030.mp3","en": "Encourage", "es": "Animar / Fomentar", "ex": "My parents always encourage me to study."}, {"audio":"f031.mp3","en": "Warn", "es": "Avisar / Advertir", "ex": "I must warn you about the slippery floor."}, {"audio":"f032.mp3","en": "Carry out", "es": "Llevar a cabo / Realizar", "ex": "The scientist will carry out the experiment today."}, {"audio":"f033.mp3","en": "Turn out", "es": "Resultar ser / Salir de una manera", "ex": "The party turned out to be a great success."}, {"audio":"f034.mp3","en": "Call off", "es": "Cancelar", "ex": "They decided to call off the match due to rain."}, {"audio":"f035.mp3","en": "Put off", "es": "Posponer", "ex": "Never put off until tomorrow what you can do today."}, {"audio":"f036.mp3","en": "Take up", "es": "Empezar una actividad / Ocupar espacio", "ex": "Iâ€™m thinking of taking up yoga next month."}, {"audio":"f037.mp3","en": "Aware", "es": "Consciente / Enterado", "ex": "Are you aware of the new rules?"}, {"audio":"f038.mp3","en": "Willing", "es": "Dispuesto / Con ganas", "ex": "He is willing to help us with the project."}, {"audio":"f039.mp3","en": "Worth", "es": "Valer la pena / Valor", "ex": "That museum is definitely worth a visit."}, {"audio":"f040.mp3","en": "To advocate", "es": "Defender / Abogar por", "ex": "He advocates for a healthier lifestyle."}, {"audio":"f041.mp3","en": "To assert", "es": "Afirmar / Aseverar", "ex": "She asserted her right to remain silent."}, {"audio":"f042.mp3","en": "To bewilder", "es": "Desconcertar / Confundir", "ex": "The complex instructions bewildered the tourists."}, {"audio":"f043.mp3","en": "To cherish", "es": "Valorar / Atesorar", "ex": "I cherish the memories of our childhood."}, {"audio":"f044.mp3","en": "To conceal", "es": "Ocultar / Esconder", "ex": "He tried to conceal his disappointment."}, {"audio":"f045.mp3","en": "To convey", "es": "Transmitir / Expresar", "ex": "It's difficult to convey my feelings in words."}, {"audio":"f046.mp3","en": "To devise", "es": "Idear / Inventar", "ex": "We need to devise a new strategy."}, {"audio":"f047.mp3","en": "To emphasize", "es": "Enfatizar / Destacar", "ex": "The teacher emphasized the importance of exercise."}, {"audio":"f048.mp3","en": "To hinder", "es": "Dificultar / Obstaculizar", "ex": "The heavy rain hindered our progress."}, {"audio":"f049.mp3","en": "To neglect", "es": "Descuidar / Desatender", "ex": "Don't neglect your health while working hard."}, {"audio":"f050.mp3","en": "To strive", "es": "Esforzarse / Luchar por", "ex": "We strive to provide the best service possible."}, {"audio":"f051.mp3","en": "To thrive", "es": "Prosperar / Crecer mucho", "ex": "Small businesses are thriving in this city."}, {"audio":"f052.mp3","en": "To undergo", "es": "Someterse a / Experimentar", "ex": "The building is undergoing major renovations."}, {"audio":"f053.mp3","en": "To uphold", "es": "Mantener / Defender", "ex": "The court upheld the previous decision."}, {"audio":"f054.mp3","en": "Abrupt", "es": "Abrupto / Repentino", "ex": "The meeting came to an abrupt end."}, {"audio":"f055.mp3","en": "Bizarre", "es": "ExtraÃ±o / Estrambotico", "ex": "It was a bizarre situation that no one expected."}, {"audio":"f056.mp3","en": "Cunning", "es": "Astuto / Ladino", "ex": "The fox used a cunning trick to escape."}, {"audio":"f057.mp3","en": "Dreadful", "es": "Espantoso / Terrible", "ex": "The weather today is absolutely dreadful."}, {"audio":"f058.mp3","en": "Flawless", "es": "Impecable / Sin fallos", "ex": "Her performance on the piano was flawless."}, {"audio":"f059.mp3","en": "Gullible", "es": "Ingenuo / Facil de engaÃ±ar", "ex": "He is so gullible he believes everything on the internet."}, {"audio":"f060.mp3","en": "Harsh", "es": "Duro / Severo", "ex": "The winter in the mountains is very harsh."}, {"audio":"f061.mp3","en": "Invaluable", "es": "Inestimable / De valor incalculable", "ex": "Your help has been invaluable to the project."}, {"audio":"f062.mp3","en": "Lethal", "es": "Letal / Mortal", "ex": "These chemicals can be lethal if swallowed."}, {"audio":"f063.mp3","en": "Overwhelming", "es": "Abrumador", "ex": "The amount of work was overwhelming."}, {"audio":"f064.mp3","en": "Peculiar", "es": "Peculiar / Raro", "ex": "The food had a peculiar but pleasant taste."}, {"audio":"f065.mp3","en": "Remarkable", "es": "Notable / Extraordinario", "ex": "She has made remarkable progress this term."}, {"audio":"f066.mp3","en": "Swift", "es": "Rapido / Veloz", "ex": "The government promised a swift response."}, {"audio":"f067.mp3","en": "Vivid", "es": "Vivido / Muy claro", "ex": "I have a vivid memory of my first day at school."}, {"audio":"f068.mp3","en": "Breakthrough", "es": "Avance / Descubrimiento importante", "ex": "Scientists have made a major breakthrough in cancer research."}, {"audio":"f069.mp3","en": "Drawback", "es": "Inconveniente / Desventaja", "ex": "The main drawback of this car is its high price."}, {"audio":"f070.mp3","en": "Incentive", "es": "Incentivo / Aliciente", "ex": "The company offers a bonus as an incentive."}, {"audio":"f071.mp3","en": "Leisure", "es": "Ocio / Tiempo libre", "ex": "What do you like to do in your leisure time?"}, {"audio":"f072.mp3","en": "Outcome", "es": "Resultado / Desenlace", "ex": "We are waiting for the final outcome of the election."}, {"audio":"f073.mp3","en": "Shortage", "es": "Escasez", "ex": "There is a severe shortage of skilled workers."}, {"audio":"f074.mp3","en": "Trend", "es": "Tendencia", "ex": "There's a growing trend towards remote working."}, {"audio":"f075.mp3","en": "To back down", "es": "Echarse atras / Ceder", "ex": "Neither side was willing to back down."}, {"audio":"f076.mp3","en": "To call for", "es": "Requerir / Exigir", "ex": "The situation calls for immediate action."}, {"audio":"f077.mp3","en": "To drop out", "es": "Abandonar", "ex": "He decided to drop out of university."}, {"audio":"f078.mp3","en": "To get over", "es": "Superar", "ex": "It took her a long time to get over the breakup."}, {"audio":"f079.mp3","en": "To hand in", "es": "Entregar", "ex": "Please hand in your assignments by Friday."}, {"audio":"f080.mp3","en": "To look down on", "es": "Despreciar", "ex": "She looks down on people who don't have a degree."}, {"audio":"f081.mp3","en": "To mess up", "es": "Arruinar / Meter la pata", "ex": "I'm sorry, I really messed up this time."}, {"audio":"f082.mp3","en": "To turn down", "es": "Rechazar / Bajar volumen", "ex": "They turned down my job application."}
];

let mode="EN";
let activeIndices=data.map((_,i)=>i);
let pos=0;
let learnedCount=0;
let initialTotal=activeIndices.length;

// ---- BLOCK BUTTONS ----
const blocksDiv=document.getElementById("blocks");
const blockCount=Math.ceil(data.length/10);
for(let i=0;i<blockCount;i++){
  const b=document.createElement("button");
  b.className="block";
  b.textContent=i;
  b.onclick=()=>selectBlock(i);
  blocksDiv.appendChild(b);
}

function selectAll(){
  document.querySelectorAll(".block").forEach(x=>x.classList.remove("active"));
  document.querySelector(".pblock").classList.add("active");
  activeIndices = data.map((_,i)=>i);
  pos = 0;
  learnedCount = 0;
  initialTotal = activeIndices.length;
  update();
}

function selectBlock(b){
  document.querySelectorAll(".block").forEach(x=>x.classList.remove("active"));
  blocksDiv.children[b].classList.add("active");
  activeIndices=[];
  const start=b*10;
  const end=Math.min(start+9,data.length-1);
  for(let i=start;i<=end;i++) activeIndices.push(i);
  pos=0;
  update();
}

// ---- MODE ----
function setMode(m){
  mode=m;
  document.getElementById("modeEN").classList.toggle("active",m==="EN");
  document.getElementById("modeES").classList.toggle("active",m==="ES");
  update();
}

// ---- STUDY FLOW ----
function update(){
  const idx=activeIndices[pos];
  document.getElementById("word").textContent= mode==="EN" ? "" : data[idx].es;
  document.getElementById("answer").textContent= mode==="EN" ? data[idx].es : data[idx].en;
  document.getElementById("answer").style.display="none";
  document.getElementById("pos").textContent=learnedCount;
  document.getElementById("total").textContent=initialTotal;

  if(mode==="EN"){
    playAudio();
  }
}

function reveal(){
  document.getElementById("answer").style.display="block";
  if(mode==="EN"){ document.getElementById("word").textContent=data[activeIndices[pos]].en; }
}


function know(){
  learnedCount++;
  activeIndices.splice(pos,1);
  if(pos>=activeIndices.length) pos=0;
  update();
}
function next(){

  pos=(pos+1)%activeIndices.length;
  update();
}

function playAudio(){
  const realIdx=activeIndices[pos];
  const num=(realIdx+1).toString().padStart(3,"0");
  const a=document.getElementById("audio");
  a.src="f"+num+".mp3";
  a.currentTime=0;
  const btn=document.querySelector('.audio-btn');btn.classList.remove('vibrate');void btn.offsetWidth;btn.classList.add('vibrate');a.play();
}

// ---- LIST ----
function toggleList(){
  const l=document.getElementById("list");
  if(l.style.display==="block"){l.style.display="none";return;}
  l.innerHTML="";
  activeIndices.forEach(i=>{
    const d=document.createElement("div");
    d.className="list-item";
    d.innerHTML="<strong>"+data[i].en+"</strong> â€” "+data[i].es;
    l.appendChild(d);
  });
  l.style.display="block";
}

update();
</script>

</body>
</html>
