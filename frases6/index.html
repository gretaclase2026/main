<!DOCTYPE html>
<html lang="ca">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Greta App - Frases Tema 6</title>
<style>
body{margin:0;font-family:sans-serif;background:#f9fafb;color:#0f172a}
header{padding:12px;background:#fff;border-bottom:1px solid #e5e7eb;display:flex;justify-content:center}
.mode-btns button{margin:0 6px;padding:8px 14px;border:none;border-radius:14px;font-weight:700;cursor:pointer}
.mode-en{background:#dbeafe}
.mode-ca{background:#fde68a}
main{display:flex;justify-content:center;padding:24px}
.card{position:relative;width:100%;max-width:560px;background:#fff;border-radius:28px;padding:32px;box-shadow:0 12px 30px rgba(0,0,0,0.08);text-align:center}
.counter{position:absolute;top:18px;right:22px;font-weight:800;color:#2563eb}
.lang{font-size:14px;font-weight:800;letter-spacing:1px;color:#64748b;margin-bottom:6px}
.audio-btn{width:120px;height:120px;border-radius:50%;border:none;background:#dbeafe;font-size:36px;cursor:pointer;margin:6px auto 10px;display:flex;align-items:center;justify-content:center}
.hidden{display:none}
.ca{font-size:20px;color:#2563eb;margin-top:14px}
.en{font-size:20px;color:#0f172a;margin-top:14px;font-weight:700}
.buttons{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px;margin-top:22px}
button.action{padding:16px 0;border:none;border-radius:16px;font-weight:800;cursor:pointer}
.reveal{background:#e0f2fe}
.know{background:#dcfce7}
.next{background:#fbcfe8}
.list-btn{margin-top:16px;background:#e9d5ff;border:none;border-radius:16px;padding:14px;font-weight:800;cursor:pointer;width:100%}
.list-box{max-width:560px;margin:16px auto;background:#fff;border-radius:20px;border:1px solid #e5e7eb;padding:16px;text-align:left}
.list-item{padding:10px 0;border-bottom:1px solid #e5e7eb}
.list-item:last-child{border-bottom:none}
.list-ca{color:#2563eb;font-weight:700}
.list-en{color:#0f172a;font-weight:800}
.end{margin-top:16px;font-weight:800;color:#16a34a}
</style>
</head>
<body>
<header>
 <div class="mode-btns">
  <button class="mode-en" onclick="setMode('EN')">ANGLÃˆS â†’ CATALÃ€</button>
  <button class="mode-ca" onclick="setMode('CA')">CATALÃ€ â†’ ANGLÃˆS</button>
 </div>
</header>
<main>
<div class="card">
 <div class="counter" id="counter">0 / 8</div>
 <div id="langLabel" class="lang">ANGLÃˆS</div>
 <button class="audio-btn" onclick="play()">ðŸ”Š</button>
 <div id="ca" class="ca hidden"></div>
 <div id="en" class="en hidden"></div>
 <div class="buttons">
  <button class="action reveal" onclick="reveal()">Veure</button>
  <button class="action know" onclick="know()">Ja la sÃ©</button>
  <button class="action next" onclick="nextOne()">SegÃ¼ent</button>
 </div>
 <button class="list-btn" onclick="toggleList()">Veure tota la llista</button>
 <div id="endMsg" class="end hidden">âœ” Ja les saps totes</div>
</div>
</main>
<div id="listBox" class="list-box hidden"></div>

<script>
const items = [
{"audio":"f001.mp3","en":"Even though the weather forecast predicted heavy rain all weekend, we decided to go hiking because we had already packed our gear and didn't want to waste the opportunity.","ca":"Tot i que la previsiÃ³ del temps anunciava pluges intenses tot el cap de setmana, vam decidir anar dâ€™excursiÃ³ perquÃ¨ ja havÃ­em preparat lâ€™equip i no volÃ­em desaprofitar lâ€™oportunitat."},
{"audio":"f002.mp3","en":"The company that I told you about yesterday is looking for a professional who has extensive experience in digital marketing and who is also willing to travel abroad.","ca":"Lâ€™empresa de la qual et vaig parlar ahir busca un professional que tingui una Ã mplia experiÃ¨ncia en mÃ rqueting digital i que tambÃ© estigui disposat a viatjar a lâ€™estranger."},
{"audio":"f003.mp3","en":"While I was walking through the park listening to my favorite podcast, I realized that I had forgotten to lock the front door, so I had to run back home as fast as I could.","ca":"Mentre caminava pel parc escoltant el meu pÃ²dcast preferit, em vaig adonar que havia oblidat tancar la porta principal, aixÃ­ que vaig haver de tornar corrents a casa tan rÃ pid com vaig poder."},
{"audio":"f004.mp3","en":"If you had told me that the meeting was going to be postponed until next Monday, I wouldn't have spent the entire night preparing the presentation that you requested.","ca":"Si mâ€™haguessis dit que la reuniÃ³ sâ€™ajornaria fins dilluns vinent, no hauria passat tota la nit preparant la presentaciÃ³ que em vas demanar."},
{"audio":"f005.mp3","en":"I usually try to wake up early to exercise before going to work, but this morning I was so tired that I decided to hit the snooze button and sleep for another thirty minutes.","ca":"Normalment intento llevar-me dâ€™hora per fer exercici abans dâ€™anar a treballar, perÃ² aquest matÃ­ estava tan cansat que vaig decidir prÃ©mer el botÃ³ de posposar i dormir trenta minuts mÃ©s."},
{"audio":"f006.mp3","en":"Since the fridge was almost empty, I went to the supermarket to buy some groceries, only to realize when I got to the checkout that I had left my wallet inside my other jacket.","ca":"Com que la nevera estava gairebÃ© buida, vaig anar al supermercat a comprar menjar, nomÃ©s per adonar-me en arribar a la caixa que havia deixat la cartera dins de lâ€™altra jaqueta."},
{"audio":"f007.mp3","en":"I was planning to spend the afternoon cleaning the house, but I ended up watching a new series on Netflix that was so addictive that I couldn't stop until I finished the whole season.","ca":"Tenia previst passar la tarda netejant la casa, perÃ² vaig acabar mirant una sÃ¨rie nova a Netflix que era tan addictiva que no vaig poder parar fins que vaig acabar tota la temporada."},
{"audio":"f008.mp3","en":"While I was waiting for the bus to go downtown, I ran into an old friend from high school whom I hadn't seen in years, so we decided to grab a quick coffee and catch up.","ca":"Mentre esperava lâ€™autobÃºs per anar al centre, em vaig trobar amb un vell amic de lâ€™institut que feia anys que no veia, aixÃ­ que vam decidir prendre un cafÃ¨ rÃ pid i posar-nos al dia."}
];

let remaining=[...items], current=null, mode="EN", known=0;
let audioPlayer = new Audio();

function updateCounter(){ counter.textContent = known + " / " + items.length; }
function play(){ if(current){ audioPlayer.src=current.audio; audioPlayer.play(); } }

function load(){
 if(remaining.length===0){ endMsg.classList.remove("hidden"); return; }
 current=remaining[Math.floor(Math.random()*remaining.length)];
 ca.classList.add("hidden"); en.classList.add("hidden");
 if(mode==="EN"){ langLabel.textContent="ANGLÃˆS"; play(); }
 else{ langLabel.textContent="CATALÃ€"; ca.textContent=current.ca; ca.classList.remove("hidden"); }
}

function reveal(){
 if(!current)return;
 ca.textContent=current.ca; en.textContent=current.en;
 ca.classList.remove("hidden"); en.classList.remove("hidden");
 if(mode==="CA") play();
}

function know(){ remaining=remaining.filter(i=>i!==current); known++; updateCounter(); load(); }
function nextOne(){ load(); }
function setMode(m){ mode=m; load(); }

function toggleList(){
 listBox.innerHTML="";
 items.forEach(i=>{
  const d=document.createElement("div");
  d.className="list-item";
  d.innerHTML="<div class='list-ca'>"+i.ca+"</div><div class='list-en'>"+i.en+"</div>";
  listBox.appendChild(d);
 });
 listBox.classList.toggle("hidden");
}

updateCounter(); load();
</script>
</body>
</html>
