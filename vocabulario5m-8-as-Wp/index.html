 <!DOCTYPE html>
<html lang="ca">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vocabulari de Casa</title>
<style>
body{margin:0;font-family:-apple-system, system-ui, sans-serif;background:#fcfcfc;color:#475569;padding:20px}
.menu-container, .game-container { max-width: 500px; margin: 0 auto; text-align: center; }
h1 { color: #64748b; font-size: 18px; margin-bottom: 20px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px;}
.menu-btn { 
    width: 100%; padding: 18px; margin-bottom: 12px; border: none; border-radius: 15px; 
    background: #fef9c3; box-shadow: 0 2px 5px rgba(0,0,0,0.05); cursor: pointer;
    font-size: 16px; font-weight: 700; color: #854d0e; border: 1px solid #fef08a;
}
.card{position:relative;background:#fff;border-radius:25px;padding:25px;box-shadow:0 10px 25px rgba(0,0,0,0.05); border: 1px solid #f1f5f9;}
.counter{position:absolute;top:15px;right:20px;font-weight:800;color:#1e3a8a; font-size: 14px;}
.pregunta-text { font-size:12px; font-weight:800; color:#1e3a8a; letter-spacing:1px; text-transform: uppercase; margin-bottom: 5px; }
.img-container { 
    width: 100%; height: 180px; margin: 10px 0; display: flex; align-items: center; 
    justify-content: center; border-radius: 18px; background: #f8fafc; border: 1px solid #f1f5f9; position: relative;
    overflow: hidden;
}
.img-container img { max-width: 100%; max-height: 100%; object-fit: contain; position: relative; z-index: 2; }
.no-photo-text { position: absolute; z-index: 1; font-weight: 800; color: #e2e8f0; font-size: 20px; text-transform: uppercase; }
.en-word{font-size:22px;color:#334155;margin-top:10px;font-weight:800;text-transform: uppercase; min-height: 28px;}
.action-btns{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;margin-top:15px}
button.action{padding:12px 0;border:none;border-radius:12px;font-weight:700;cursor:pointer; font-size: 13px;}
.reveal{background:#e0f2fe; color: #0369a1;} 
.know{background:#dcfce7; color: #15803d;}   
.next{background:#fdf2f8; color: #f472b6;}
.audio-btn{width:75px;height:75px;border-radius:50%;border:none;background:#f1f5f9;font-size:30px;cursor:pointer;margin:10px auto;display:block;}
.footer-btns { margin-top: 20px; display: flex; flex-direction: column; gap: 10px; }
.btn-list { background: #fdf2f8; color: #f472b6; border: none; padding: 14px; border-radius: 12px; font-weight: 600; font-size: 14px; cursor: pointer; }
.btn-final { background: #f5f3ff; color: #7c3aed; border: none; padding: 14px; border-radius: 12px; font-weight: 600; font-size: 15px; cursor: pointer; }
.btn-final.checked { background: #ddd6fe; color: #5b21b6; }
.list-box { margin-top: 20px; text-align: left; background: #fff; border-top: 1px solid #eee; padding-top: 15px; }
.list-item { display: flex; justify-content: space-between; padding: 10px 5px; border-bottom: 1px solid #fafafa; font-size: 15px; }
.list-ca { color: #f472b6; font-weight: 800; } 
.list-en { color: #1e3a8a; font-weight: 800; }
.back-btn { margin-top: 20px; background: #f1f5f9; border: none; color: #1e3a8a; padding: 14px; border-radius: 12px; font-weight: 800; cursor: pointer; font-size: 14px; width: 100%; border: 1px solid #cbd5e1;}
.hidden{display:none}
</style>
</head>
<body onload="updateMenuVisuals()">

<div id="menu" class="menu-container">
    <h1>Tria un grup d'estudi</h1>
    <button id="btn-0" class="menu-btn" onclick="startBlock(0)">1. Cuina: Eines i Preparaci√≥</button>
    <button id="btn-1" class="menu-btn" onclick="startBlock(1)">2. Cuina: Cocci√≥ i Aparells</button>
    <button id="btn-2" class="menu-btn" onclick="startBlock(2)">3. Eines i Bricolatge</button>
    <button id="btn-3" class="menu-btn" onclick="startBlock(3)">4. Neteja i Roba</button>
    <button id="btn-4" class="menu-btn" onclick="startBlock(4)">5. Higiene i Cures</button>
</div>

<div id="game" class="game-container hidden">
    <div class="card">
        <div id="counter" class="counter">0 / 0</div>
        <div class="pregunta-text">QU√à √âS AIX√í?</div>
        <div class="img-container">
            <span id="altText" class="no-photo-text"></span>
            <img id="mainImg" src="">
        </div>
        <button class="audio-btn" onclick="playAudio()">üîä</button>
        <div id="enWord" class="en-word hidden"></div>
        <div class="action-btns">
            <button class="action reveal" onclick="reveal()">Veure nom</button>
            <button class="action know" onclick="know()">Ho s√©</button>
            <button class="action next" onclick="nextOne()">Saltar</button>
        </div>
        <div class="footer-btns">
            <button class="btn-list" onclick="toggleList()">Veure la llista de paraules</button>
            <button id="finalBtn" class="btn-final" onclick="marcarHecho()">Finalitzar la lli√ß√≥ ‚ñ°</button>
        </div>
        <div id="listBox" class="list-box hidden"></div>
        <button class="back-btn" onclick="location.reload()">‚¨Ö TORNAR AL MEN√ö DE GRUPS</button>
    </div>
</div>

<script>
const blocs = [
    [{"en": "aluminum foil", "ca": "paper d'alumini"}, {"en": "cling film", "ca": "film transparent"}, {"en": "kitchen roll", "ca": "paper de cuina"}, {"en": "ladle", "ca": "cullerot"}, {"en": "strainer", "ca": "colador"}, {"en": "peeler", "ca": "pelador"}, {"en": "grater", "ca": "ratllador"}, {"en": "whisk", "ca": "batedor de varilles"}, {"en": "spatula", "ca": "esp√†tula"}, {"en": "corkscrew", "ca": "llevataps"}, {"en": "can opener", "ca": "obrellates"}, {"en": "rolling pin", "ca": "corr√≥ de cuina"}, {"en": "juicer", "ca": "exprimidor"}, {"en": "chopping board", "ca": "taula de tallar"}, {"en": "tongs", "ca": "pinces de cuina"}],
    [{"en": "mortar and pestle", "ca": "morter i m√† de morter"}, {"en": "kitchen scales", "ca": "b√†scula de cuina"}, {"en": "oven mitt", "ca": "manopla de forn"}, {"en": "funnel", "ca": "embut"}, {"en": "saucepan", "ca": "cass√≥"}, {"en": "frying pan", "ca": "paella"}, {"en": "pot lid", "ca": "tapa de l'olla"}, {"en": "apron", "ca": "davantal"}, {"en": "trivet", "ca": "estalvis"}, {"en": "kitchen scissors", "ca": "tisores de cuina"}, {"en": "shopping trolley", "ca": "carret de comprar"}, {"en": "microwave", "ca": "microones"}, {"en": "kettle", "ca": "bullidor"}, {"en": "toaster", "ca": "torradora"}],
    [{"en": "stepladder", "ca": "escala de m√†"}, {"en": "hammer", "ca": "martell"}, {"en": "screwdriver", "ca": "tornav√≠s"}, {"en": "pliers", "ca": "alacants"}, {"en": "tape measure", "ca": "cinta m√®trica"}, {"en": "wrench", "ca": "clau anglesa"}, {"en": "saw", "ca": "serra"}, {"en": "drill", "ca": "trepant"}, {"en": "flashlight", "ca": "llanterna"}, {"en": "wheelbarrow", "ca": "carret√≥"}, {"en": "rake", "ca": "rasclet"}, {"en": "screw", "ca": "cargol"}, {"en": "nut", "ca": "femella"}, {"en": "key", "ca": "clau"}, {"en": "padlock", "ca": "candau"}, {"en": "level", "ca": "nivell"}],
    [{"en": "broom", "ca": "escombra"}, {"en": "dustpan", "ca": "recollidor"}, {"en": "bucket", "ca": "galleda"}, {"en": "mop", "ca": "fregadora"}, {"en": "hanger", "ca": "penjador"}, {"en": "dustbin", "ca": "cubell de la brossa"}, {"en": "iron", "ca": "planxa"}, {"en": "ironing board", "ca": "taula de planxar"}, {"en": "clothespins", "ca": "pinces d'estendre"}, {"en": "clothes horse", "ca": "estenedor"}, {"en": "vacuum cleaner", "ca": "aspiradora"}, {"en": "dusting cloth", "ca": "draps de la pols"}],
    [{"en": "mirror", "ca": "mirall"}, {"en": "rug", "ca": "catifa"}, {"en": "cushion", "ca": "coix√≠"}, {"en": "toothbrush", "ca": "raspall de dents"}, {"en": "comb", "ca": "pinta"}, {"en": "hairdryer", "ca": "secador de cabells"}, {"en": "razor", "ca": "maquineta d'afaitar"}, {"en": "sponge", "ca": "esponja"}, {"en": "towel", "ca": "tovallola"}, {"en": "bathrobe", "ca": "barn√∫s"}, {"en": "tweezers", "ca": "pinces de depilar"}, {"en": "nail clippers", "ca": "tallaungles"}, {"en": "bathroom scales", "ca": "b√†scula de bany"}, {"en": "soap", "ca": "sab√≥"}, {"en": "hairbrush", "ca": "raspall del cabell"}, {"en": "toothpaste", "ca": "pasta de dents"}, {"en": "shampoo", "ca": "xamp√∫"}, {"en": "nail polish", "ca": "esmalt d'ungles"}, {"en": "hair claw", "ca": "pin√ßa de cabell"}, {"en": "acetone", "ca": "acetona"}, {"en": "hair dye", "ca": "tinte"}]
];

let itemsActius = [], remaining = [], current = null, known = 0, currentBlockIdx = -1;
const audioObj = new Audio();

function startBlock(index) {
    currentBlockIdx = index;
    itemsActius = blocs[index];
    remaining = [...itemsActius];
    known = 0;
    document.getElementById("menu").classList.add("hidden");
    document.getElementById("game").classList.remove("hidden");
    document.getElementById("listBox").classList.add("hidden");
    updateCounter();
    loadWord();
}

function loadWord() {
    if(remaining.length === 0) {
        document.getElementById("enWord").classList.remove("hidden");
        document.getElementById("enWord").textContent = "Grup completat!";
        return;
    }
    current = remaining[Math.floor(Math.random() * remaining.length)];
    const fileName = current.en.toLowerCase().trim().replace(/\s+/g, "-");
    const imgElement = document.getElementById("mainImg");
    imgElement.style.opacity = "0";
    imgElement.src = fileName + ".jpg";
    imgElement.onload = () => imgElement.style.opacity = "1";
    document.getElementById("altText").textContent = current.en;
    document.getElementById("enWord").classList.add("hidden");
    document.getElementById("enWord").textContent = current.en;
}

function playAudio() {
    if(!current) return;
    const fileName = current.en.toLowerCase().trim().replace(/\s+/g, "-");
    audioObj.src = fileName + ".mp3";
    audioObj.play().catch(e => console.log("Falta audio"));
}

function reveal() {
    document.getElementById("enWord").classList.remove("hidden");
    playAudio();
}

function know() {
    remaining = remaining.filter(i => i !== current);
    known++;
    updateCounter();
    loadWord();
}

function nextOne() { loadWord(); }

function updateCounter() {
    document.getElementById("counter").textContent = known + " / " + itemsActius.length;
}

function toggleList() {
    const lb = document.getElementById("listBox");
    lb.innerHTML = itemsActius.map(i => `<div class="list-item"><span class="list-ca">${i.ca}</span> <span class="list-en">${i.en}</span></div>`).join('');
    lb.classList.toggle("hidden");
}

function marcarHecho() {
    const btn = document.getElementById("finalBtn");
    btn.innerHTML = "Finalitzar la lli√ß√≥ [X]";
    btn.classList.add("checked");
    localStorage.setItem("bloque_fet_" + currentBlockIdx, "true");
    alert("Bloc marcat com a completat!");
}

function updateMenuVisuals() {
    for(let i=0; i<5; i++) {
        if(localStorage.getItem("bloque_fet_" + i) === "true") {
            const b = document.getElementById("btn-" + i);
            if(b) {
                b.style.background = "#e2e8f0";
                b.style.color = "#94a3b8";
                if(!b.innerHTML.includes("‚úÖ")) b.innerHTML += " ‚úÖ";
            }
        }
    }
}
</script>
</body>
</html>